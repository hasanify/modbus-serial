<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>{{{title}}}</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></link>
	<link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<style>
		body{
			overflow: hidden;
		}
		.card-data{
				border-radius: 40px;
		}
		.card-data-body{
			 text-shadow:
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000;
			font-family: 'Lato', sans-serif;
				overflow: hidden;
				white-space: nowrap;
				color: white; 
				border-bottom-left-radius:40px; 
				border-bottom-right-radius:40px;
		}
		.data-heading{
			font-size: 40pt;
		}
		.unit{
			font-size: 35pt;
		}
		.container-fluid{
			position: absolute; 
			top: 18%;
		}
		.footer{
			padding: 30px;
		}
	</style>
</head>
<body class="bg-light">
	<div class="row bg-dark text-light" style="padding: 10px">
		<div class="col-sm-6">
			<h1 style="font-size: 50pt; padding-left: 10px"><b>Floor 1</b></h1>
		</div>
		<div class="col-sm-6 text-right">
			<h1><b>Last Updated: <span id="time" style="font-size: 50pt">
		</span><br><span id="status"></span></b></h1>
		</div>
	</div>
	<div class="container-fluid text-center vertical-align-center">
		<div class="row">
			<div class="col-sm-4">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>Temperature</b></h1></div>
					<div class="card-body card-data-body" style="background-color:rgba(255,0,0,0.7); padding:40px 0px"><center ><h1 style="font-size: 80pt;" id="temp"></h1></center>
					</div>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>Humidity</b></h1></div>
					<div class="card-body card-data-body" style="background-color:cornflowerblue; padding:40px 0px"><center><h1 style="font-size: 80pt" id="hum"></h1></center>
					</div>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>CO<sub>2</sub></b></h1></div>
					<div class="card-body card-data-body" style="background-color:#5fccdd; padding:40px 0px"><center><h1 style="font-size: 80pt" id="co2"></h1></center>
					</div>
				</div>
			</div>
		</div>
		<div class="row" style="margin-top: 25px;">
			<div class="col-sm-3">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>PM 2.5</b></h1></div>
					<div class="card-body card-data-body" style="background-color:teal"><center><h1 style="font-size: 60pt;" id="pm25"></h1></center>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>PM 10</sup></b></h1></div>
					<div class="card-body card-data-body" style="background-color:#0072bc;"><center><h1 style="font-size: 60pt;" id="pm10"></h1></center>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>VOC</b></h1></div>
					<div class="card-body card-data-body" style="background-color: #d192e8;"><center><h1 style="font-size: 60pt;" id="voc"></h1></center>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card shadow-lg card-data">
					<div class="card-header bg-dark text-light"><h1 class="data-heading"><b>CO</b></h1></div>
					<div class="card-body card-data-body" style="background-color:darkorange;"><center><h1 style="font-size: 60pt;" id="co"></h1></center>
					</div>
				</div>
			</div>
		</div>
	</div>
<div class="footer bg-dark fixed-bottom text-light text-center">
	<h3><b>&copy; <span id="year"></span> E&amp;E Solutions | All Rights Reserved</b></h3>
	<script>
		document.getElementById('year').innerHTML = new Date().getFullYear();
	</script>
</div>
	<script>
		setInterval(function() {
			$.ajax('./read', 
			{
				dataType: 'json',
				timeout: 3000,
				success: function (data){
					$('#temp').html('<b>'+data[0]+'.'+data[1]+' <span class="unit">&deg;C</span></b>')
					$('#hum').html('<b>'+data[2]+'.'+data[3]+' <span class="unit">%</span></b>')
					$('#co2').html('<b>'+data[6]+' <span class="unit">PPM</span></b>')
					$('#pm25').html('<b>'+data[5]+' <br><span class="unit">&mu;g/m<sup>3</sup></span></b>')
					$('#pm10').html('<b>'+data[4]+' <br><span class="unit">&mu;g/m<sup>3</sup></span></b>')
					$('#voc').html('<b>'+data[7]+' <br><span class="unit">PPB</span></b>')
					$('#co').html('<b>'+data[8]+' <br><span class="unit">PPB</span></b>')
					$('#status').html('Status: <span class="text-success">Active</span>')
					var time = new Date();
					document.getElementById('time').innerHTML = time.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true });
},
				error: function() { 
					$('#status').html('Status: <span class="text-danger">Disconnected</span>');
				}
});
}, 5000);
</script>
</body>
</html>